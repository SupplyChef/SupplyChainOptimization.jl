var documenterSearchIndex = {"docs":
[{"location":"adding special constraints/#Adding-Special-Constraints","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"","category":"section"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"SupplyChainOptimization contains many built-in concepts that enable the modeling of many scenarios. In some special cases specific constraints may need to be considered that are not part of the built-in concepts. SupplyChainOptimization allows for the direct manipulation of the optimization model to add these constraints.","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"warning: Beware!\nDirectly manipulating the optimization model requires advanced mathematical modeling knowledge and is not recommended unless absolutely necessary.","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"When the optimize_network! function is called it calls two other functions: create_network_optimization_model! and optimize_network_optimization_model!. create_network_optimization_model! creates an optimization model and stores it in the supply chain optimization_model attribute (see Optimization Model). This process is seamless and usually operates behind the scene. However there are cases where knowning about this process can be helpful. One such case is if a specific constraint needs to be added to the optimization model. ","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"In the example below we will use the same setup as in the multi-period network optimization example (see Multi-period Optimization). The one difference is that we now want to control how many nodes can be opened in each time period. Such a constraint may be needed in real-life because the real-estate team, labor team or supply management team cannot handle too many opening at the same time. We will modify the usual call to the optimizer and break it into three parts: the creation of the optimization model, the addition of the constraint on openings, the call to the optimizer.","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"SupplyChainOptimization.create_network_optimization_model!(sc, HiGHS.Optimizer)\r\n\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,1]) == 2)\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,2]) == 1)\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,3]) == 1)\r\n\r\nSupplyChainOptimization.optimize_network_optimization_model!(sc)","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"In the first period we allow two opening (we need at least a plant and a storage location). In the subsequent periods, we allow one opening per period. A list of available variables in the optimization model is provided in the Optimization Model section.","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"The full code is as below. Notice the use of JuMP, the optimization library, to add the additional constraints.","category":"page"},{"location":"adding special constraints/","page":"Adding Special Constraints","title":"Adding Special Constraints","text":"using CSV\r\nusing DataFrames\r\nusing JuMP\r\nusing HiGHS\r\nusing SupplyChainOptimization\r\n\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(3)\r\n\r\nproduct1 = Product(\"Product 1\"; unit_holding_cost=0.01)\r\nproduct2 = Product(\"Product 2\"; unit_holding_cost=0.01)\r\nadd_product!(sc, product1)\r\nadd_product!(sc, product2)\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    supplier = Supplier(\"Supplier $(r.name)\", Location(r.lat + 0.2, r.lon - 0.2, r.name))\r\n    add_product!(supplier, product1; unit_cost=1.0)\r\n    add_supplier!(sc, supplier)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    plant = Plant(\"Plant $(r.name)\", Location(r.lat - 0.2, r.lon - 0.2, r.name); \r\n            fixed_cost= 6_000_000 + r.pop / 2, \r\n            initial_opened=false)\r\n    add_product!(plant, product2; bill_of_material=Dict{Product, Float64}(product1 => 1.0), unit_cost=1.0)\r\n    add_plant!(sc, plant)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            initial_opened=false)\r\n    add_product!(storage, product2; initial_inventory=0)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 100)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product2; demand=[r.pop / 8_000 for i in 1:3])\r\nend\r\n\r\nfor s in sc.suppliers, p in sc.plants\r\n    add_lane!(sc, Lane(s, p; unit_cost=haversine(s.location, p.location) / 750))\r\nend\r\n\r\nfor p in sc.plants, s in sc.storages\r\n    add_lane!(sc, Lane(p, s; unit_cost=haversine(p.location, s.location) / 750))\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c; unit_cost=haversine(s.location, c.location) / 250))\r\nend\r\n\r\nSupplyChainOptimization.create_network_optimization_model!(sc, HiGHS.Optimizer)\r\n\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,1]) == 2)\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,2]) == 1)\r\n@constraint(sc.optimization_model, sum(sc.optimization_model[:opening][:,3]) == 1)\r\n\r\nSupplyChainOptimization.optimize_network_optimization_model!(sc)","category":"page"},{"location":"multi-period optimization/#Multi-period-Optimization","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"","category":"section"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"In this section we will see how to use SupplyChainOptimization for multi-period network optimization. We will consider a use case where demand is expected to grow over time. The setup is similar to the one in Locations Optimization with the difference that we are looking at 15 years of data instead of 1.","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"using CSV\r\nusing DataFrames\r\nusing Cbc\r\nusing SupplyChainOptimization\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(15)\r\n\r\nproduct1 = Product(\"Product 1\"; unit_holding_cost=0.01)\r\nproduct2 = Product(\"Product 2\"; unit_holding_cost=0.01)\r\nadd_product!(sc, product1)\r\nadd_product!(sc, product2)\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    supplier = Supplier(\"Supplier $(r.name)\", Location(r.lat + 0.2, r.lon - 0.2, r.name))\r\n    add_product!(supplier, product1; unit_cost=1.0)\r\n    add_supplier!(sc, supplier)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    plant = Plant(\"Plant $(r.name)\", Location(r.lat - 0.2, r.lon - 0.2, r.name); \r\n            fixed_cost= 6_000_000 + r.pop / 2, \r\n            initial_opened=false)\r\n    add_product!(plant, product2; bill_of_material=Dict{Product, Float64}(product1 => 1.0), unit_cost=1.0)\r\n    add_plant!(sc, plant)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 10))\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            initial_opened=false)\r\n    add_product!(storage, product2; initial_inventory=0)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 100)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product2; demand=[r.pop / (8_000 * (6-min(i, 5))) for i in 1:15])\r\nend\r\n\r\nfor s in sc.suppliers, p in sc.plants\r\n    add_lane!(sc, Lane(s, p, haversine(s.location, p.location) / 750))\r\nend\r\n\r\nfor p in sc.plants, s in sc.storages\r\n    add_lane!(sc, Lane(p, s, haversine(p.location, s.location) / 750))\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c, haversine(s.location, c.location) / 250))\r\nend\r\n\r\noptimize_network!(sc, Cbc.Optimizer)","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"The results show the network evolving in three phases:","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"in the first phase, we open a plant and a storage location in Philadelphia to service the East Coast and a storage location in San Diego (supplied by the plant in Philadelphia) to service the West Coast.\nin the second phase, we open a third storage location in Dallas\nin the third phase, we open a plant in San Diego. ","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"Each time a new facility is opened the fixed costs go up but the transportation costs are reduced compared to the configuration where the facility stays closed. The costs can be visualized as below.","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"(Image: costs)","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"The final network configuration is shown in the figure below.","category":"page"},{"location":"multi-period optimization/","page":"Multi-period Optimization","title":"Multi-period Optimization","text":"(Image: optimized locations)","category":"page"},{"location":"optimization locations/#Locations-Optimization","page":"Locations Optimization","title":"Locations Optimization","text":"","category":"section"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"In this section we will see how to find the best network to service customer demand. We will consider a set of 40 possible storage locations and a set of 350 customers both distributed throughout the US. We specify the cost of operating each storage location and the cost of shipping the product from each storage location to each customer. Finally we indicate the demand for each customer. Once this is done we optimize the network.","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"using CSV\r\nusing DataFrames\r\nusing SupplyChainOptimization\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(1)\r\n\r\nproduct = Product(\"Product 1\")\r\nadd_product!(sc, product)\r\n\r\nfor r in eachrow(first(us_cities, 40))\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            opening_cost=0.0, \r\n            closing_cost=0.0, \r\n            initial_opened=false)\r\n    add_product!(storage, product; initial_inventory=100_000)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 350)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product; demand=[r.pop / 10_000])\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c; unit_cost=haversine(s.location, c.location) / 250))\r\nend\r\n\r\noptimize_network!(sc)","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"After optimizing the network we can visualize the results.","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"plot_flows(sc; showlegend=false)","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"(Image: optimized locations)","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"In the next example, we optimize a more complete network: we will consider where to build plants, storage locations to service customers and which suppliers to buy from. The customers consume one type of product which is produced by the plants and stored at the storage locations. The plants need a different product as raw material. This product is sourced from suppliers. ","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"The process is similar to the previous example: we setup the network using the built-in concepts, call the optimize_network! function and query the results. ","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"using CSV\r\nusing DataFrames\r\nusing SupplyChainOptimization\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(1)\r\n\r\nproduct1 = Product(\"Product 1\")\r\nproduct2 = Product(\"Product 2\")\r\nadd_product!(sc, product1)\r\nadd_product!(sc, product2)\r\n\r\nfor r in eachrow(first(us_cities, 20))\r\n    supplier = Supplier(\"Supplier $(r.name)\", Location(r.lat + 0.2, r.lon - 0.2, r.name))\r\n    add_product!(supplier, product1; unit_cost=1.0)\r\n    add_supplier!(sc, supplier)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 20))\r\n    plant = Plant(\"Plant $(r.name)\", Location(r.lat - 0.2, r.lon - 0.2, r.name); \r\n            fixed_cost= 6_000_000 + r.pop / 2, \r\n            opening_cost=0.0, \r\n            closing_cost=0.0, \r\n            initial_opened=false)\r\n    add_product!(plant, product2; bill_of_material=Dict{Product, Float64}(product1 => 1.0), unit_cost=1.0)\r\n    add_plant!(sc, plant)\r\nend\r\n\r\nfor r in eachrow(first(us_cities, 20))\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            opening_cost=0.0, \r\n            closing_cost=0.0, \r\n            initial_opened=false)\r\n    add_product!(storage, product2; initial_inventory=0)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 350)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product2; demand=[r.pop / 10_000])\r\nend\r\n\r\nfor s in sc.suppliers, p in sc.plants\r\n    add_lane!(sc, Lane(s, p; unit_cost=haversine(s.location, p.location) / 750))\r\nend\r\n\r\nfor p in sc.plants, s in sc.storages\r\n    add_lane!(sc, Lane(p, s; unit_cost=haversine(p.location, s.location) / 750))\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c; unit_cost=haversine(s.location, c.location) / 250))\r\nend\r\n\r\noptimize_network!(sc)","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"The network can be visualized (see below). We can see that the optimal network has two clusters of plants/storage locations; one to service the West coast and one to service the East coast. Additionally two smaller storage locations are used as hubs to reduce overall costs.","category":"page"},{"location":"optimization locations/","page":"Locations Optimization","title":"Locations Optimization","text":"(Image: optimized locations)","category":"page"},{"location":"sponsor/#Sponsor","page":"Sponsor","title":"Sponsor","text":"","category":"section"},{"location":"sponsor/","page":"Sponsor","title":"Sponsor","text":"Work on SupplyChainOptimization is sponsored by SupplyChops a company specializing in inventory management.","category":"page"},{"location":"optimization model/#Optimization-Model","page":"Optimization Model","title":"Optimization Model","text":"","category":"section"},{"location":"optimization model/","page":"Optimization Model","title":"Optimization Model","text":"The optimization model contains the following variables:","category":"page"},{"location":"optimization model/","page":"Optimization Model","title":"Optimization Model","text":"- opened[plants_storages, times]: whether a plant or a storage location is opened during a given period.\r\n- opening[plants_storages, times]: whether a plant or a storage location is opening during a given period (it is now opened but was closed).\r\n- closing[plants_storages, times]: whether a plant or a storage location is closing during a given period (it is now closed but was opened).\r\n- bought[products, suppliers, times]: the amount of product bought from a supplier during a given period.\r\n- produced[products, plants, times]: the amount of product produced by a plant during a given period.\r\n- stored_at_start[products, storages, times]: the amount of product stored at a storage location at the beginning of a given period. \r\n- stored_at_end[products, storages, times]: the amount of product stored at a storage location at the end of a given period.\r\n- used[lanes, times]: whether a lane is used during a given period.\r\n- sent[products, lanes, times]: the amount of product sent onto a lane during a given period.\r\n- received[products, lanes, times]: the amount of product received from a lane during a given period.\r\n- lost_sales[products, customers, times]: the amount of demand for a product by a customer lost during a given period.","category":"page"},{"location":"optimization model/","page":"Optimization Model","title":"Optimization Model","text":"See Adding Special Constraints for an example on how to use these variables to add constraints to the optimization model.","category":"page"},{"location":"optimization flows/#Flow-Optimization","page":"Flow Optimization","title":"Flow Optimization","text":"","category":"section"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"In this section we will see how to best flow products through the supply chain. We will assume that we want to leverage the current network  (we will not open or close facilities â€“ we will do so in the Locations Optimization example). Finding the right facility to serve customers from can be simple if there are few constraints but can become challenging when considering constraints such as throughput limits or considering complex cost structures. We will start with a simple example and then show how to handle realistic constraints.","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"In the first example we consider four storage locations servicing 350 customers distributed throughout the US. The aim is to find which storage location service which customer. The setup is done as in the following code.","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"using CSV\r\nusing DataFrames\r\nusing SupplyChainOptimization\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nus_cities[!,:name] = strip.(us_cities[!,:name])\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(1)\r\n\r\nproduct = Product(\"Product 1\")\r\nadd_product!(sc, product)\r\n\r\nfor r in eachrow(us_cities[in([\"Fort Worth\", \"Long Beach\", \"Philadelphia\", \"Louisville/Jefferson County\"]).(us_cities.name), :])\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            opening_cost=0.0, \r\n            closing_cost=0.0, \r\n            initial_opened=false)\r\n    add_product!(storage, product; initial_inventory=100_000)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 350)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product; demand=[r.pop / 10_000])\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c; unit_cost=haversine(s.location, c.location) / 250))\r\nend\r\n\r\noptimize_network!(sc)","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"We can visualize the results.","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"(Image: optimizing_flows_free)","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"In the second example, we will add a constraint on the maximal throughput that each storage location can support. We do this with a simple modification of the code:","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"add_product!(storage, product; initial_inventory=100_000, maximum_throughput=2_400)","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"After optimizing the network we see that some customers have been re-assigned to other storage locations to ensure that the throughput capacity is not exceeded.","category":"page"},{"location":"optimization flows/","page":"Flow Optimization","title":"Flow Optimization","text":"(Image: optimizing_flows_maximum_throughput)","category":"page"},{"location":"reference/#Reference","page":"Reference","title":"Reference","text":"","category":"section"},{"location":"reference/#Types","page":"Reference","title":"Types","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"SupplyChain\r\nLocation\r\nNode\r\nProduct\r\nCustomer\r\nLane\r\nPlant\r\nStorage\r\nSupplier\r\nDemand","category":"page"},{"location":"reference/#SupplyChainOptimization.SupplyChain","page":"Reference","title":"SupplyChainOptimization.SupplyChain","text":"The supply chain.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Location","page":"Reference","title":"SupplyChainOptimization.Location","text":"The geographical location of a node of the supply chain.  The location is defined by its latitude and longitude.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Node","page":"Reference","title":"SupplyChainOptimization.Node","text":"A node of the supply chain.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Product","page":"Reference","title":"SupplyChainOptimization.Product","text":"A product.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Customer","page":"Reference","title":"SupplyChainOptimization.Customer","text":"A customer.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Lane","page":"Reference","title":"SupplyChainOptimization.Lane","text":"A transportation lane between two nodes of the supply chain.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Plant","page":"Reference","title":"SupplyChainOptimization.Plant","text":"A plant.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Storage","page":"Reference","title":"SupplyChainOptimization.Storage","text":"A storage location.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Supplier","page":"Reference","title":"SupplyChainOptimization.Supplier","text":"A supplier.\n\n\n\n\n\n","category":"type"},{"location":"reference/#SupplyChainOptimization.Demand","page":"Reference","title":"SupplyChainOptimization.Demand","text":"The demand a customer has for a product.\n\n\n\n\n\n","category":"type"},{"location":"reference/#Modeling","page":"Reference","title":"Modeling","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"add_plant!\r\nadd_supplier!\r\nadd_storage!\r\nadd_customer!\r\nadd_product!\r\nadd_demand!\r\nadd_lane!\r\nhaversine","category":"page"},{"location":"reference/#SupplyChainOptimization.add_plant!","page":"Reference","title":"SupplyChainOptimization.add_plant!","text":"add_plant!(supply_chain, plant)\n\nAdds a plant to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_supplier!","page":"Reference","title":"SupplyChainOptimization.add_supplier!","text":"add_supplier!(supply_chain, supplier)\n\nAdds a supplier to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_storage!","page":"Reference","title":"SupplyChainOptimization.add_storage!","text":"add_storage!(supply_chain, storage)\n\nAdds a storage location to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_customer!","page":"Reference","title":"SupplyChainOptimization.add_customer!","text":"add_customer!(supply_chain, customer)\n\nAdds a customer to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_product!","page":"Reference","title":"SupplyChainOptimization.add_product!","text":"add_product!(customer::Customer, product::Product; demand::Array{Float64, 1})\n\nIndicates that a customer needs a product.\n\nThe keyword arguments are:\n\ndemand: the amount of unit of product needed for each time period.\n\n\n\n\n\nadd_product!(supplier::Supplier, product::Product; unit_cost::Float64, maximum_throughput::Float64)\n\nIndicates that a supplier can provide a product.\n\nThe keyword arguments are:\n\nunit_cost: the cost per unit of the product from this supplier.\nmaximum_throughput: the maximum number of units that can be provided in each time period.\n\n\n\n\n\nadd_product!(plant::Plant, product::Product; bill_of_material::Dict{Product, Float64}, unit_cost, maximum_throughput)\n\nIndicates that a plant can produce a product.\n\nThe keyword arguments are:\n\nbill_of_material: the amount of other product needed to produce one unit of the product. This dictionary can be empty if there are no other products needed.\nunit_cost: the cost of producing one unit of product.\nmaximum_throughput: the maximum amount of product that can be produced in a time period.\ntime: the production lead time.\n\n\n\n\n\nadd_product!(supply_chain, product)\n\nAdds a product to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_demand!","page":"Reference","title":"SupplyChainOptimization.add_demand!","text":"add_demand!(supply_chain, customer, product; demand::Array{Float64, 1}, service_level=1.0)\n\nAdds customer demand for a product. The demand is specified for each time period.\n\nThe keyword arguments are:\n\ndemand: the amount of product demanded for each time period.\nservice_level: indicates how many lost sales are allowed as a ratio of demand. No demand can be lost if the service level is 1.0 and all demand can be lost if the service level is 0.0. \n\n\n\n\n\nadd_demand!(supply_chain, demand)\n\nAdds demand to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.add_lane!","page":"Reference","title":"SupplyChainOptimization.add_lane!","text":"add_lane!(supply_chain, lane)\n\nAdds a transportation lane to the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.haversine","page":"Reference","title":"SupplyChainOptimization.haversine","text":"Computes the great circle distance between two locations. The distance is expressed in meter.\n\n\n\n\n\n","category":"function"},{"location":"reference/#Optimization","page":"Reference","title":"Optimization","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"optimize_network!","category":"page"},{"location":"reference/#SupplyChainOptimization.optimize_network!","page":"Reference","title":"SupplyChainOptimization.optimize_network!","text":"optimize_network!(supply_chain::SupplyChain, optimizer=HiGHS.Optimizer)\n\nOptimizes the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#Querying-Results","page":"Reference","title":"Querying Results","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"get_total_costs\r\nget_total_fixed_costs\r\nget_total_transportation_costs\r\nget_inventory_at_start\r\nget_inventory_at_end\r\nget_production\r\nget_receipts\r\nget_shipments\r\nis_opened\r\nis_opening\r\nis_closing","category":"page"},{"location":"reference/#SupplyChainOptimization.get_total_costs","page":"Reference","title":"SupplyChainOptimization.get_total_costs","text":"get_total_costs(supply_chain::SupplyChain)\n\nGets the total costs of operating the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_total_fixed_costs","page":"Reference","title":"SupplyChainOptimization.get_total_fixed_costs","text":"get_total_fixed_costs(supply_chain::SupplyChain)\n\nGets the total fixed costs of operating the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_total_transportation_costs","page":"Reference","title":"SupplyChainOptimization.get_total_transportation_costs","text":"get_total_transportation_costs(supply_chain::SupplyChain)\n\nGets the total transportation costs of operating the supply chain.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_inventory_at_start","page":"Reference","title":"SupplyChainOptimization.get_inventory_at_start","text":"Gets the inventory of a product stored at the start of a period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_inventory_at_end","page":"Reference","title":"SupplyChainOptimization.get_inventory_at_end","text":"Gets the inventory of a product stored at the end of a period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_production","page":"Reference","title":"SupplyChainOptimization.get_production","text":"get_production(supply_chain::SupplyChain, plant::Plant, product::Product, period=1)\n\nGets the amount of a given product produced at a given plant during a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_receipts","page":"Reference","title":"SupplyChainOptimization.get_receipts","text":"get_receipts(supply_chain::SupplyChain, storage::Storage, product::Product, period=1)\n\nGets the amount of a given product received at a given storage location at a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.get_shipments","page":"Reference","title":"SupplyChainOptimization.get_shipments","text":"get_shipments(supply_chain::SupplyChain, storage::Storage, product::Product, period=1)\n\nGets the amount of a given product sent from a given storage location at a given period.\n\n\n\n\n\nget_shipments(supply_chain::SupplyChain, plant::Plant, product::Product, period=1)\n\nGets the amount of a given product sent from a given plant  at a given period.\n\n\n\n\n\nget_shipments(supply_chain::SupplyChain, supplier::Supplier, product::Product, period=1)\n\nGets the amount of a given product shipped from a given supplier at a given period.\n\n\n\n\n\nget_shipments(supply_chain::SupplyChain, lane::Lane, product::Product, period=1)\n\nGets the amount of a given product sent on a lane at a given period.\n\n\n\n\n\nget_shipments(supply_chain::SupplyChain, lane::Lane, destination, product::Product, period=1)\n\nGets the amount of a given product sent on a lane at a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.is_opened","page":"Reference","title":"SupplyChainOptimization.is_opened","text":"is_opened(supply_chain::SupplyChain, storage::Storage, period=1)\n\nGets whether a given storage location is opened during a given period.\n\n\n\n\n\nis_opened(supply_chain::SupplyChain, plant::Plant, period=1)\n\nGets whether a given plant is opened during a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.is_opening","page":"Reference","title":"SupplyChainOptimization.is_opening","text":"Gets whether a given storage location is opening during a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.is_closing","page":"Reference","title":"SupplyChainOptimization.is_closing","text":"Gets whether a given storage location is closing during a given period.\n\n\n\n\n\n","category":"function"},{"location":"reference/#Visualization","page":"Reference","title":"Visualization","text":"","category":"section"},{"location":"reference/","page":"Reference","title":"Reference","text":"plot_network\r\nplot_flows\r\nplot_costs\r\nplot_inventory","category":"page"},{"location":"reference/#SupplyChainOptimization.plot_network","page":"Reference","title":"SupplyChainOptimization.plot_network","text":"plot_network(supply_chain, period=1; geography=\"usa\", showlegend=true)\n\nPlots the nodes of the supply chain on a map.\n\nThe geography must be one of: \"world\" | \"usa\" | \"europe\" | \"asia\" | \"africa\" | \"north america\" | \"south america\".\n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.plot_flows","page":"Reference","title":"SupplyChainOptimization.plot_flows","text":"plot_flows(supply_chain, period=1; geography=\"usa\", showlegend=true)\n\nPlots the flows of products in the supply chain. \n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.plot_costs","page":"Reference","title":"SupplyChainOptimization.plot_costs","text":"plot_costs(supply_chain)\n\nPlots the costs of operating the supply chain. \n\n\n\n\n\n","category":"function"},{"location":"reference/#SupplyChainOptimization.plot_inventory","page":"Reference","title":"SupplyChainOptimization.plot_inventory","text":"plot_inventory(supply_chain, storage, product)\n\nPlots the amount of inventory of a product on-hand at a storage location at the beginning of each period. \n\n\n\n\n\n","category":"function"},{"location":"#SupplyChainOptimization.jl","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"","category":"section"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"SupplyChainOptimization.jl is a package for modeling and optimizing supply chains. ","category":"page"},{"location":"#Installation","page":"SupplyChainOptimization.jl","title":"Installation","text":"","category":"section"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"SupplyChainOptimization can be installed using the Julia package manager. From the Julia REPL, type ] to enter the Pkg REPL mode and run","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"pkg> add SupplyChainOptimization","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"SupplyChainOptimization.jl needs an optimizer to find optimal solutions to supply chain design problems. By default the HiGHS solver is used. It is a powerful open-source solver. Other solvers can be used. The solver must be compatible with JuMP and must be able to solve mixed integer programming problems. Solvers that meet these criteria include:","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"Cbc\nSCIP\nGurobi\nCPLEX\nXpress","category":"page"},{"location":"#Getting-started","page":"SupplyChainOptimization.jl","title":"Getting started","text":"","category":"section"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"Optimizing the supply chain is done in three steps:","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"Modeling the supply chain using built-in concepts such as storage locations and customers.\nInvoke the solver. This step may take more or less time depending on the difficulty of the problem.\nQuerying and visualizing the results.","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"In the example below we search for the best storage locations to use to supply a set of customers. We first download data on US cities. Then we create one product, a set of 40 possible storage locations and a set of 350 customers both distributed throughout the US. We specify the cost of operating each storage location and the cost of shipping the product from each storage location to each customer. Finally we indicate the demand for each customer. Once this is done we optimize the network.","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"using CSV\r\nusing DataFrames\r\nusing SupplyChainOptimization\r\n\r\nnm = tempname()\r\nurl = \"https://raw.githubusercontent.com/plotly/datasets/master/2014_us_cities.csv\"\r\ndownload(url, nm)\r\nus_cities = CSV.read(nm, DataFrame)\r\nrm(nm)\r\n\r\nsort!(us_cities, [:pop], rev=true)\r\n\r\nsc = SupplyChain(1)\r\n\r\nproduct = Product(\"Product 1\")\r\nadd_product!(sc, product)\r\n\r\nfor r in eachrow(first(us_cities, 40))\r\n    storage = Storage(\"Storage $(r.name)\", Location(r.lat + 0.2, r.lon + 0.2, r.name); \r\n            fixed_cost= 2_000_000 + r.pop / 2, \r\n            opening_cost=0.0, \r\n            closing_cost=0.0, \r\n            initial_opened=false)\r\n    add_product!(storage, product; initial_inventory=100_000)\r\n    add_storage!(sc, storage)\r\nend\r\n\r\nfor (i, r) in enumerate(eachrow(first(us_cities, 350)))\r\n    customer = Customer(\"customer $i\", Location(r.lat, r.lon, r.name))\r\n    add_customer!(sc, customer)\r\n    add_demand!(sc, customer, product; demand=[r.pop / 10_000])\r\nend\r\n\r\nfor c in sc.customers, s in sc.storages\r\n    add_lane!(sc, Lane(s, c; unit_cost=haversine(s.location, c.location) / 250))\r\nend\r\n\r\noptimize_network!(sc)","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"After optimizing the network we can visualize the results.","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"plot_flows(sc; showlegend=false)","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"(Image: getting_started)","category":"page"},{"location":"","page":"SupplyChainOptimization.jl","title":"SupplyChainOptimization.jl","text":"SupplyChainOptimization comes with a variety of built-in concepts including Customers, Lanes, Plants, Storages, and Suppliers. Each of these concepts has attributes that are used to ensure constraints are met and costs are minimized. ","category":"page"},{"location":"inventory movements/#Inventory-Movements","page":"Inventory Movements","title":"Inventory Movements","text":"","category":"section"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"Network optimization is mainly about long term inventory flows. In this example we will show to use SupplyChainOptimization to compute shorter term inventory movements and optimal ordering.","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"We will consider a simple network with one supplier, one storage location, one customer and a single product. The storage location must maintain enough inventory to meet the customer's demand for the product. The storage location can order inventory from the supplier. Each time it orders it pays an ordering cost. The storage location also pays a holding cost for any inventory left at the end of each time period. We want to find the best way to order inventory into the storage location. We consider a problem over 26 periods (this would be 6 months if each period represents weekly demand).","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"The problem is modeled and solved as shown below.","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"using HiGHS\r\nusing JuMP\r\nusing SupplyChainOptimization\r\n\r\nSeattle = Location(47.608013, -122.335167)\r\n\r\nsc = SupplyChain(26)\r\n\r\nordering_cost = 100\r\n\r\nproduct = Product(\"Product 1\"; unit_holding_cost=0.01)\r\nadd_product!(sc, product)\r\n\r\nsupplier = Supplier(\"Supplier 1\", Seattle)\r\nadd_product!(supplier, product; unit_cost=0.0)\r\nadd_supplier!(sc, supplier)\r\n\r\nstorage = Storage(\"Storage 1\", Seattle; \r\n            fixed_cost= 0, \r\n            initial_opened=true)\r\nadd_product!(storage, product; additional_stock_cover=0, initial_inventory=nothing)\r\nadd_storage!(sc, storage)\r\n\r\ncustomer = Customer(\"Customer 1\", Seattle)\r\nadd_customer!(sc, customer)\r\nadd_demand!(sc, customer, product; demand=[100.0 for i in 1:sc.horizon])\r\n\r\nlane = Lane(supplier, storage; minimum_quantity=1.0)\r\nadd_lane!(sc, lane)\r\nadd_lane!(sc, Lane(storage, customer; minimum_quantity=1.0))\r\n\r\nSupplyChainOptimization.create_network_optimization_model!(sc, HiGHS.Optimizer)\r\n@objective(sc.optimization_model, Min, sum(sc.optimization_model[:used][lane, t] * ordering_cost for t in 1:sc.horizon) +\r\n                                       sum(sc.optimization_model[:stored_at_start][product, storage, t] * product.unit_holding_cost for t in 1:sc.horizon) )\r\nSupplyChainOptimization.optimize_network_optimization_model!(sc)","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"Once solve we can display the inventory at the storage location.","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"plot_inventory(sc, storage, product)","category":"page"},{"location":"inventory movements/","page":"Inventory Movements","title":"Inventory Movements","text":"(Image: inventory_movements)","category":"page"}]
}
